(this["webpackJsonpreact-test"]=this["webpackJsonpreact-test"]||[]).push([[2],{92:function(n,t,e){"use strict";e.r(t);var a=e(1),c=e(0),r=e(12),o=e(2),i=e(60),u=e.n(i),s=e(23),b="https://finalphonebook-default-rtdb.firebaseio.com",j=e(25),l=function(n){return n.contacts.items},f=function(n){return n.contacts.filter},d={getContacts:l,getLoadingStatus:function(n){return n.contacts.loading},getFilter:f,getFilteredContacts:Object(j.a)([f,l],(function(n,t){return t.filter((function(t){return t.name.toLowerCase().includes(n.toLowerCase())}))}))},h=e(7),p=e(59),x=e(20),O=e(58);function m(){var n=Object(x.a)(["\n    position: absolute;\n    top: 26px;\n    left: 70px;\n    box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.2);\n    border-radius: 6px;\n    background-color: hotpink;\n    display: flex;\n    align-items: center;\n    justify-content: space-around;\n    width: 200px;\n    height: 50px;\n    vertical-align: center;\n\n\n    &:enter {\n        transform: translateX(-150%);\n    }\n    &:enter-active {\n        transform: translateX(0);\n        transition: transform 250ms;\n    }\n    &:exit {\n        transform: translateX(0);\n    }\n    &:exit-active {\n        transform: translateX(-150%);\n        transition: transform 250ms;\n    }\n"]);return m=function(){return n},n}var g=O.a.div(m()),v=function(n){var t=n.showNotification;return Object(a.jsx)(g,{in:t,timeout:250,unmountOnExit:!0,children:"Contact already exists!"})},w=e(21);function k(){var n=Object(x.a)(["\n    width: 100%;\n    box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.2);\n    padding: 25px;\n\n    label {\n        display: block;\n    }\n\n    input {\n        display: block;\n        width: 100%;\n        height: 26px;\n    }\n\n    button {\n        width: 100%;\n        height: 26px;\n        margin-top: 10px;\n        background-color: honeydew;\n    }\n\n    button:hover,\n    button:focus {\n        background-color: lightgreen;\n    }\n"]);return k=function(){return n},n}var y=w.b.form(k()),C=function(n){var t=n.contacts,e=Object(c.useState)({name:"",number:"",showNotification:!1}),i=Object(p.a)(e,2),j=i[0],l=i[1],f=Object(r.b)(),d=function(n){var t=n.target,e=t.name,a=t.value;l((function(n){return Object(o.a)(Object(o.a)({},n),{},Object(h.a)({},e,a))}))};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(y,{onSubmit:function(n){var e;n.preventDefault(),t.find((function(n){return n.name===j.name}))?(l((function(n){return Object(o.a)(Object(o.a)({},n),{},{showNotification:!0})})),setTimeout((function(){l((function(n){return Object(o.a)(Object(o.a)({},n),{},{showNotification:!1})}))}),4e3)):(f((e={name:j.name,number:j.number},function(n,t){var a=t().auth.uid,c=t().auth.idToken;n(Object(s.c)()),u.a.post("".concat(b,"/contacts/").concat(a,".json?auth=").concat(c),Object(o.a)({},e)).then((function(t){return n(Object(s.a)(Object(o.a)(Object(o.a)({},e),{},{id:t.data.name})))})).catch((function(t){return n(Object(s.h)(t))})).finally((function(){return n(Object(s.c)())}))})),l({name:"",number:"",showNotification:!1}))},children:[Object(a.jsxs)("label",{children:["Name",Object(a.jsx)("input",{type:"text",value:j.name,name:"name",onChange:d})]}),Object(a.jsxs)("label",{children:["Number",Object(a.jsx)("input",{type:"text",value:j.number,name:"number",onChange:d})]}),Object(a.jsx)("button",{type:"submit",children:"Add contact"})]}),Object(a.jsx)(v,{showNotification:j.showNotification})]})};function X(){var n=Object(x.a)(["\n    width: 100%;\n    box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.2);\n    padding: 25px;\n\n    label {\n        display: block;\n    }\n\n    input {\n        display: block;\n        width: 100%;\n        height: 26px;\n    }\n"]);return X=function(){return n},n}var N=w.b.div(X()),F=function(){var n=Object(c.useState)({value:""}),t=Object(p.a)(n,2),e=t[0],o=t[1],i=Object(r.b)();return Object(a.jsx)(N,{children:Object(a.jsxs)("label",{children:["Find contacts by name",Object(a.jsx)("input",{type:"text",value:e.value,name:"filter",onChange:function(n){o({value:n.target.value}),i(Object(s.b)(n.target.value))}})]})})},L=e(93);function S(){var n=Object(x.a)(["\n    width: 100%;\n    box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.2);\n    padding: 16px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    &:enter {\n        transform: translateX(-120%);\n    }\n    &:enter-active {\n        transform: translateX(0);\n        transition: transform 250ms;\n    }\n    &:exit {\n        transform: translateX(0);\n    }\n    &:exit-active {\n        transform: translateX(-120%);\n        transition: transform 250ms;\n    }\n\n    button {\n        background-color: hotpink;\n        font-weight: 700;\n        width: 30px;\n        height: 30px;\n\n        :hover,\n        :focus {\n            background-color: red;\n        }\n    }\n"]);return S=function(){return n},n}var E=O.a.li(S()),T=function(n){var t=n.name,e=n.number,c=n.id,o=Object(r.b)();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{children:t}),Object(a.jsx)("p",{children:e}),Object(a.jsx)("button",{type:"button","data-id":c,onClick:function(n){o(function(n){return function(t,e){var a=e().auth.uid,c=e().auth.idToken;t(Object(s.c)()),u.a.delete("".concat(b,"/contacts/").concat(a,"/").concat(n,".json?auth=").concat(c)).then((function(){return t(Object(s.g)(n))})).catch((function(n){return t(Object(s.h)(n))})).finally((function(){return t(Object(s.c)())}))}}(n.target.dataset.id))},children:"\u2715"})]})},J=function(){var n=Object(r.c)(d.getFilteredContacts);return Object(a.jsx)(L.a,{component:"ul",children:n.map((function(n){return Object(a.jsx)(E,{timeout:1e3,mountOnEnter:!0,unmountOnExit:!0,children:Object(a.jsx)(T,Object(o.a)({},n))},n.id)}))})};function A(){var n=Object(x.a)(["\n    text-align: center;\n\n    &:appear {\n        transform: translateX(-100%);\n    }\n    &:appear-active {\n        transform: translateX(0);\n        transition: transform 500ms;\n    }\n"]);return A=function(){return n},n}function D(){var n=Object(x.a)(["\n    width: 300px;\n    margin-left: 25px;\n\n    h2 {\n        margin-top: 10px;\n        text-align: center;\n    }\n"]);return D=function(){return n},n}var P=w.b.div(D()),q=O.a.h1(A());t.default=function(){var n=Object(r.c)(d.getContacts),t=Object(r.c)(d.getLoadingStatus),e=Object(r.b)();return Object(c.useEffect)((function(){e((function(n,t){var e=t().auth.uid,a=t().auth.idToken;n(Object(s.c)()),u.a.get("".concat(b,"/contacts/").concat(e,".json?auth=").concat(a)).then((function(t){if(t.data){var e=Object.keys(t.data).map((function(n){return Object(o.a)(Object(o.a)({},t.data[n]),{},{id:n})}));n(Object(s.f)(e))}})).catch((function(t){return n(Object(s.h)(t))})).finally((function(){return n(Object(s.c)())}))}))}),[]),Object(a.jsxs)(P,{children:[Object(a.jsx)(q,{in:!0,appear:!0,timeout:500,children:t?"Loading...":"Phonebook"}),Object(a.jsx)(C,{contacts:n}),n.length>0&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h2",{children:"Contacts"}),Object(a.jsx)(F,{})]}),Object(a.jsx)(J,{})]})}}}]);
//# sourceMappingURL=ContactsPage.46408271.chunk.js.map