(this["webpackJsonpreact-test"]=this["webpackJsonpreact-test"]||[]).push([[2],{92:function(n,t,e){"use strict";e.r(t);var a=e(1),c=e(0),r=e(12),o=e(2),i=e(60),u=e.n(i),s=e(23),b=e(25),f=function(n){return n.contacts.items},j=function(n){return n.contacts.filter},l={getContacts:f,getLoadingStatus:function(n){return n.contacts.loading},getFilter:j,getFilteredContacts:Object(b.a)([j,f],(function(n,t){return t.filter((function(t){return t.name.toLowerCase().includes(n.toLowerCase())}))}))},d=e(7),h=e(59),p=e(20),x=e(58);function O(){var n=Object(p.a)(["\n    position: absolute;\n    top: 26px;\n    left: 70px;\n    box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.2);\n    border-radius: 6px;\n    background-color: hotpink;\n    display: flex;\n    align-items: center;\n    justify-content: space-around;\n    width: 200px;\n    height: 50px;\n    vertical-align: center;\n\n\n    &:enter {\n        transform: translateX(-150%);\n    }\n    &:enter-active {\n        transform: translateX(0);\n        transition: transform 250ms;\n    }\n    &:exit {\n        transform: translateX(0);\n    }\n    &:exit-active {\n        transform: translateX(-150%);\n        transition: transform 250ms;\n    }\n"]);return O=function(){return n},n}var m=x.a.div(O()),g=function(n){var t=n.showNotification;return Object(a.jsx)(m,{in:t,timeout:250,unmountOnExit:!0,children:"Contact already exists!"})},v=e(21);function w(){var n=Object(p.a)(["\n    width: 100%;\n    box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.2);\n    padding: 25px;\n\n    label {\n        display: block;\n    }\n\n    input {\n        display: block;\n        width: 100%;\n        height: 26px;\n    }\n\n    button {\n        width: 100%;\n        height: 26px;\n        margin-top: 10px;\n        background-color: honeydew;\n    }\n\n    button:hover,\n    button:focus {\n        background-color: lightgreen;\n    }\n"]);return w=function(){return n},n}var k=v.b.form(w()),y=function(n){var t=n.contacts,e=Object(c.useState)({name:"",number:"",showNotification:!1}),i=Object(h.a)(e,2),b=i[0],f=i[1],j=Object(r.b)(),l=function(n){var t=n.target,e=t.name,a=t.value;f((function(n){return Object(o.a)(Object(o.a)({},n),{},Object(d.a)({},e,a))}))};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(k,{onSubmit:function(n){var e;n.preventDefault(),t.find((function(n){return n.name===b.name}))?(f((function(n){return Object(o.a)(Object(o.a)({},n),{},{showNotification:!0})})),setTimeout((function(){f((function(n){return Object(o.a)(Object(o.a)({},n),{},{showNotification:!1})}))}),4e3)):(j((e={name:b.name,number:b.number},function(n,t){var a=t().auth.uid,c=t().auth.idToken;n(Object(s.c)()),u.a.post("".concat("https://finalphonebook-default-rtdb.firebaseio.com","/contacts/").concat(a,".json?auth=").concat(c),Object(o.a)({},e)).then((function(t){return n(Object(s.a)(Object(o.a)(Object(o.a)({},e),{},{id:t.data.name})))})).catch((function(t){return n(Object(s.h)(t))})).finally((function(){return n(Object(s.c)())}))})),f({name:"",number:"",showNotification:!1}))},children:[Object(a.jsxs)("label",{children:["Name",Object(a.jsx)("input",{type:"text",value:b.name,name:"name",onChange:l})]}),Object(a.jsxs)("label",{children:["Number",Object(a.jsx)("input",{type:"text",value:b.number,name:"number",onChange:l})]}),Object(a.jsx)("button",{type:"submit",children:"Add contact"})]}),Object(a.jsx)(g,{showNotification:b.showNotification})]})};function C(){var n=Object(p.a)(["\n    width: 100%;\n    box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.2);\n    padding: 25px;\n\n    label {\n        display: block;\n    }\n\n    input {\n        display: block;\n        width: 100%;\n        height: 26px;\n    }\n"]);return C=function(){return n},n}var X=v.b.div(C()),N=function(){var n=Object(c.useState)({value:""}),t=Object(h.a)(n,2),e=t[0],o=t[1],i=Object(r.b)();return Object(a.jsx)(X,{children:Object(a.jsxs)("label",{children:["Find contacts by name",Object(a.jsx)("input",{type:"text",value:e.value,name:"filter",onChange:function(n){o({value:n.target.value}),i(Object(s.b)(n.target.value))}})]})})},F=e(93);function L(){var n=Object(p.a)(["\n    width: 100%;\n    box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.2);\n    padding: 16px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    &:enter {\n        transform: translateX(-120%);\n    }\n    &:enter-active {\n        transform: translateX(0);\n        transition: transform 250ms;\n    }\n    &:exit {\n        transform: translateX(0);\n    }\n    &:exit-active {\n        transform: translateX(-120%);\n        transition: transform 250ms;\n    }\n\n    button {\n        background-color: hotpink;\n        font-weight: 700;\n        width: 30px;\n        height: 30px;\n\n        :hover,\n        :focus {\n            background-color: red;\n        }\n    }\n"]);return L=function(){return n},n}var S=x.a.li(L()),E=function(n){var t=n.name,e=n.number,c=n.id,o=Object(r.b)();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{children:t}),Object(a.jsx)("p",{children:e}),Object(a.jsx)("button",{type:"button","data-id":c,onClick:function(n){o(function(n){return function(t,e){var a=e().auth.uid,c=e().auth.idToken;t(Object(s.c)()),u.a.delete("".concat("https://finalphonebook-default-rtdb.firebaseio.com","/contacts/").concat(a,"/").concat(n,".json?auth=").concat(c)).then((function(){return t(Object(s.g)(n))})).catch((function(n){return t(Object(s.h)(n))})).finally((function(){return t(Object(s.c)())}))}}(n.target.dataset.id))},children:"\u2715"})]})},T=function(){var n=Object(r.c)(l.getFilteredContacts);return Object(a.jsx)(F.a,{component:"ul",children:n.map((function(n){return Object(a.jsx)(S,{timeout:1e3,mountOnEnter:!0,unmountOnExit:!0,children:Object(a.jsx)(E,Object(o.a)({},n))},n.id)}))})};function J(){var n=Object(p.a)(["\n    text-align: center;\n\n    &:appear {\n        transform: translateX(-100%);\n    }\n    &:appear-active {\n        transform: translateX(0);\n        transition: transform 500ms;\n    }\n"]);return J=function(){return n},n}function A(){var n=Object(p.a)(["\n    width: 300px;\n    margin-left: 25px;\n\n    h2 {\n        margin-top: 10px;\n        text-align: center;\n    }\n"]);return A=function(){return n},n}var D=v.b.div(A()),P=x.a.h1(J());t.default=function(){var n=Object(r.c)(l.getContacts),t=Object(r.c)(l.getLoadingStatus),e=Object(r.b)();return Object(c.useEffect)((function(){e((function(n,t){var e=t().auth.uid,a=t().auth.idToken;n(Object(s.c)()),u.a.get("".concat("https://finalphonebook-default-rtdb.firebaseio.com","/contacts/").concat(e,".json?auth=").concat(a)).then((function(t){if(t.data){var e=Object.keys(t.data).map((function(n){return Object(o.a)(Object(o.a)({},t.data[n]),{},{id:n})}));n(Object(s.f)(e))}})).catch((function(t){return n(Object(s.h)(t))})).finally((function(){return n(Object(s.c)())}))}))}),[]),Object(a.jsxs)(D,{children:[Object(a.jsx)(P,{in:!0,appear:!0,timeout:500,children:t?"Loading...":"Phonebook"}),Object(a.jsx)(y,{contacts:n}),n.length>0&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h2",{children:"Contacts"}),Object(a.jsx)(N,{})]}),Object(a.jsx)(T,{})]})}}}]);
//# sourceMappingURL=ContactsPage.84ff5b5e.chunk.js.map